var qt=Object.defineProperty;var Bt=(m,d,b)=>d in m?qt(m,d,{enumerable:!0,configurable:!0,writable:!0,value:b}):m[d]=b;var p=(m,d,b)=>(Bt(m,typeof d!="symbol"?d+"":d,b),b);(function(){"use strict";const m=t=>{let e=t.toString(),n=e.length,o=0,r;if(n===0)return o;for(let i=0;i<n;i++)r=e.charCodeAt(i),o=(o<<5)-o+r,o|=0;return Math.abs(o).toString()},d={},b=(t,e,...n)=>{let o=m(t),r=(...i)=>{const a=Date.now();d[o]?d[o]+e<a&&(d[o]=a,t(...i)):(d[o]=a,t(...i))};if(n.length===1&&n[0]==="prepare")return r;r(...n)};function f(){}function L(t){return t()}function T(){return Object.create(null)}function x(t){t.forEach(L)}function O(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function G(t){return Object.keys(t).length===0}function J(t,...e){if(t==null){for(const o of e)o(void 0);return f}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function K(t,e,n){t.$$.on_destroy.push(J(e,n))}function Q(t,e,n){return t.set(n),e}function z(t,e){t.appendChild(e)}function W(t,e,n){const o=Z(t);if(!o.getElementById(e)){const r=$("style");r.id=e,r.textContent=n,tt(o,r)}}function Z(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function tt(t,e){return z(t.head||t,e),e.sheet}function M(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function $(t){return document.createElement(t)}function et(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function nt(){return P(" ")}function ot(){return P("")}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function rt(t){return Array.from(t.childNodes)}class it{constructor(e=!1){p(this,"is_svg",!1);p(this,"e");p(this,"n");p(this,"t");p(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=et(n.nodeName):this.e=$(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)M(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}let C;function v(t){C=t}const y=[],q=[];let g=[];const B=[],st=Promise.resolve();let N=!1;function ct(){N||(N=!0,st.then(X))}function S(t){g.push(t)}const A=new Set;let w=0;function X(){if(w!==0)return;const t=C;do{try{for(;w<y.length;){const e=y[w];w++,v(e),at(e.$$)}}catch(e){throw y.length=0,w=0,e}for(v(null),y.length=0,w=0;q.length;)q.pop()();for(let e=0;e<g.length;e+=1){const n=g[e];A.has(n)||(A.add(n),n())}g.length=0}while(y.length);for(;B.length;)B.pop()();N=!1,A.clear(),v(t)}function at(t){if(t.fragment!==null){t.update(),x(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}function lt(t){const e=[],n=[];g.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),g=e}const dt=new Set;function ut(t,e){t&&t.i&&(dt.delete(t),t.i(e))}function ft(t,e,n){const{fragment:o,after_update:r}=t.$$;o&&o.m(e,n),S(()=>{const i=t.$$.on_mount.map(L).filter(O);t.$$.on_destroy?t.$$.on_destroy.push(...i):x(i),t.$$.on_mount=[]}),r.forEach(S)}function ht(t,e){const n=t.$$;n.fragment!==null&&(lt(n.after_update),x(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function pt(t,e){t.$$.dirty[0]===-1&&(y.push(t),ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function mt(t,e,n,o,r,i,a,c=[-1]){const l=C;v(t);const s=t.$$={fragment:null,ctx:[],props:i,update:f,not_equal:r,bound:T(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:T(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};a&&a(s.root);let R=!1;if(s.ctx=n?n(t,e.props||{},(h,I,...U)=>{const Y=U.length?U[0]:I;return s.ctx&&r(s.ctx[h],s.ctx[h]=Y)&&(!s.skip_bound&&s.bound[h]&&s.bound[h](Y),R&&pt(t,h)),I}):[],s.update(),R=!0,x(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){const h=rt(e.target);s.fragment&&s.fragment.l(h),h.forEach(k)}else s.fragment&&s.fragment.c();e.intro&&ut(t.$$.fragment),ft(t,e.target,e.anchor),X()}v(l)}class bt{constructor(){p(this,"$$");p(this,"$$set")}$destroy(){ht(this,1),this.$destroy=f}$on(e,n){if(!O(n))return f;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!G(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const yt="4",_=[];function gt(t,e){return{subscribe:u(t,e).subscribe}}function u(t,e=f){let n;const o=new Set;function r(c){if(j(t,c)&&(t=c,n)){const l=!_.length;for(const s of o)s[1](),_.push(s,t);if(l){for(let s=0;s<_.length;s+=2)_[s][0](_[s+1]);_.length=0}}}function i(c){r(c(t))}function a(c,l=f){const s=[c,l];return o.add(s),o.size===1&&(n=e(r,i)||f),c(t),()=>{o.delete(s),o.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:a}}const wt=u([]),_t=u(!1),vt=u(!1),xt=u(!1),kt=u(!1),$t=u(null),zt=u(null),Mt=u(null),Et=gt(!1),D=u({is2xs:matchMedia("(min-width: 380px)").matches,isXs:matchMedia("(min-width: 460px)").matches,isSm:matchMedia("(min-width: 640px)").matches,isMd:matchMedia("(min-width: 768px)").matches,isLg:matchMedia("(min-width: 1024px)").matches,isXl:matchMedia("(min-width: 1280px)").matches,is2xl:matchMedia("(min-width: 1536px)").matches});addEventListener("resize",b(()=>{D.set({is2xs:matchMedia("(min-width: 380px)").matches,isXs:matchMedia("(min-width: 460px)").matches,isSm:matchMedia("(min-width: 640px)").matches,isMd:matchMedia("(min-width: 768px)").matches,isLg:matchMedia("(min-width: 1024px)").matches,isXl:matchMedia("(min-width: 1280px)").matches,is2xl:matchMedia("(min-width: 1536px)").matches})},1e3/30,"prepare"));const Ct=Object.freeze(Object.defineProperty({__proto__:null,errors:wt,isBusy:_t,isActive:vt,hasAccess:xt,hasContent:kt,insertion:$t,active:zt,category:Mt,isDev:Et,screen:D},Symbol.toStringTag,{value:"Module"})),H=document.createRange(),Nt=H.createContextualFragment.bind(H),St=(t,e={},n=!1)=>{const o=Nt(t).firstChild;return o?(Object.keys(e).forEach(r=>{o.setAttribute(r,e[r])}),n?o:o.outerHTML):""},At=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M240 56c0-30.9-25.1-56-56-56-28.9 0-52.7 21.9-55.7 49.9C100.6 56.9 80 82.1 80 112c0 6 .8 11.9 2.4 17.4C53.6 135.7 32 161.3 32 192c0 15 5.1 28.8 13.8 39.7C18.7 244.5 0 272.1 0 304c0 34.2 21.4 63.4 51.6 74.8-2.3 6.6-3.6 13.8-3.6 21.2 0 35.3 28.7 64 64 64 5.6 0 11.1-.7 16.3-2.1 2.9 28.2 26.8 50.1 55.7 50.1 30.9 0 56-25.1 56-56V272h-48c-8.8 0-16 7.2-16 16v34.7c18.6 6.6 32 24.4 32 45.3 0 26.5-21.5 48-48 48s-48-21.5-48-48c0-20.9 13.4-38.7 32-45.3V288c0-26.5 21.5-48 48-48h48v-80h-34.7c-6.6 18.6-24.4 32-45.3 32-26.5 0-48-21.5-48-48s21.5-48 48-48c20.9 0 38.7 13.4 45.3 32H240V56zm32 104v192h34.7c6.6-18.6 24.4-32 45.3-32 26.5 0 48 21.5 48 48s-21.5 48-48 48c-20.9 0-38.7-13.4-45.3-32H272v72c0 30.9 25.1 56 56 56 28.9 0 52.7-21.9 55.7-50.1 5.2 1.4 10.7 2.1 16.3 2.1 35.3 0 64-28.7 64-64 0-7.4-1.3-14.6-3.6-21.2 30.2-11.4 51.6-40.6 51.6-74.8 0-31.9-18.7-59.5-45.8-72.3C474.9 220.8 480 207 480 192c0-30.7-21.6-56.3-50.4-62.6 1.6-5.5 2.4-11.4 2.4-17.4 0-29.9-20.6-55.1-48.3-62.1C380.6 21.9 356.9 0 328 0c-30.9 0-56 25.1-56 56v72h48c26.5 0 48 21.5 48 48v2.7c18.6 6.6 32 24.4 32 45.3 0 26.5-21.5 48-48 48s-48-21.5-48-48c0-20.9 13.4-38.7 32-45.3V176c0-8.8-7.2-16-16-16h-48zm-128-16a16 16 0 1032 0 16 16 0 10-32 0zm208 64a16 16 0 100 32 16 16 0 100-32zM144 368a16 16 0 1032 0 16 16 0 10-32 0zm192 0a16 16 0 1032 0 16 16 0 10-32 0z"/></svg>
`;typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yt),new AbortController;const Lt=u([]);fetch(Craft.getActionUrl("promptly/prompts")).then(t=>t.json()).then(t=>Lt.set(t.concat([{label:"New Prompt",handle:"new",description:"",prompt:""}])));function Tt(t){W(t,"svelte-5zlayh",`#content .field:focus-within > .input>.btn.svelte-5zlayh.svelte-5zlayh{opacity:1
}.btn.svelte-5zlayh.svelte-5zlayh{margin-left:auto;height:auto;border-radius:0.25rem;padding:0.375rem;font-size:0.75rem;line-height:1;position:absolute;top:0.25rem;right:0.25rem;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;--tw-bg-opacity:1;background-color:rgb(166 53 207 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity))
}.btn.svelte-5zlayh.svelte-5zlayh:hover{--tw-bg-opacity:1;background-color:rgb(102 31 224 / var(--tw-bg-opacity))
}.btn.svelte-5zlayh.svelte-5zlayh{opacity:0
}.btn.svelte-5zlayh .icon{height:0.875rem;width:0.875rem
}.btn.svelte-5zlayh .tooltip.svelte-5zlayh{border-radius:3px;background-color:rgb(0 0 0 / 0.8);padding-left:0.375rem;padding-right:0.375rem;padding-top:0.25rem;padding-bottom:0.25rem;--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));opacity:0;position:absolute;right:100%;margin-right:0.25rem;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;top:50%;--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))
}.btn.svelte-5zlayh:hover .tooltip.svelte-5zlayh{opacity:1
}.field.hover > .input>.btn.svelte-5zlayh.svelte-5zlayh{opacity:1
}`)}function V(t){let e,n,o=St(At,{class:"icon"})+"",r,i;return{c(){e=$("button"),n=new it(!1),r=nt(),i=$("span"),i.textContent="Promptly",n.a=r,E(i,"class","tooltip svelte-5zlayh"),E(e,"type","button"),E(e,"class","btn svelte-5zlayh")},m(a,c){M(a,e,c),n.m(o,e),z(e,r),z(e,i)},p:f,d(a){a&&k(e)}}}function Ot(t){let e=t[1].includes(t[0].dataset.type),n,o=e&&V();return{c(){o&&o.c(),n=ot()},m(r,i){o&&o.m(r,i),M(r,n,i)},p(r,[i]){i&1&&(e=r[1].includes(r[0].dataset.type)),e?o?o.p(r,i):(o=V(),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:f,o:f,d(r){r&&k(n),o&&o.d(r)}}}const F=u({});function jt(t,e,n){let o;K(t,F,c=>n(2,o=c));let{el:r}=e;const i=["craft\\fields\\PlainText","craft\\redactor\\Field"],a=new MutationObserver(c=>{c.forEach(l=>{l.type==="attributes"&&l.attributeName==="data-redactor-uuid"&&console.log(l.target.dataset.redactorUuid,l.target.closest(".field"))})});if(i.includes(r.dataset.type)&&Q(F,o=Object.assign(o,{[r.dataset.layoutElement]:r}),o),r.dataset.type==="craft\\redactor\\Field"){const c=r.querySelector("textarea");a.observe(c,{attributes:!0})}return r.addEventListener("mouseenter",()=>r.classList.add("hover")),r.addEventListener("mouseleave",()=>r.classList.remove("hover")),t.$$set=c=>{"el"in c&&n(0,r=c.el)},[r,i]}class Pt extends bt{constructor(e){super(),mt(this,e,jt,Ot,j,{el:0},Tt)}}(t=>{document.readyState!=="loading"?t():document.addEventListener("DOMContentLoaded",t)})(()=>{const t=document.querySelectorAll("#content .field[data-type]");Array.from(t).forEach(e=>{new Pt({store:Ct,target:e.querySelector(".input"),props:{el:e}})})})})();
